# Скриптовой движок HollowEngine

HollowEngine предоставляет скриптовой движок KotlinScript, специально переписанный для использования в модах. KotlinScript - это язык программирования, который позволяет создавать скрипты на Kotlin с некоторыми упрощениями. Например, вам не нужно создавать классы или методы - все, что вы напишете в скрипте, будет запущено как отдельный метод.

# Как создать скрипт?

Прежде всего, перед написанием скриптов нужно определиться какой скрипт вам нужен. На данный момент есть несколько видов скриптов:

---

| Название | Тип | Примечание |
|---|---|---|
| Мод | mod | Запускается, как и обычные моды во время загрузки игры |
| Событие | se | Запускается по команде уже в мире |
| Диалог | hsd | Запускается по команде уже в мире |
| Крафт | recipe | Запускается при перезагрузке рецептов (и /reload) (в разработке) |
| Миксин | mixin | Позволяет переписывать код игры (в разработке) |

---

Когда вы определились с видом скрипта создайте текстовый файл в папке `.minecraft/hollowengine/scripts/`, также вы можете в этой же папке создать свои, например отдельно для Событий и отдельно для Диалогов.

Файлы должны называться так: `any_name.<тип>.kts`, где вместо `<тип>` - ваш тип скрипта.

---

## Настройка скрипта

У каждого скрипта есть свои переменные и методы, которые могут отличаться, подробнее об этом написано в разделе определённого типа скрипта.

Также чтобы избегать конфликтов с совпадающими именами скриптов не забывайте писать в начале каждого файла его `package`, например это может быть ваш ник и название сборки/мода: `package ru.hollowhorizon.super_modpack`.

## Компиляция скриптов

После запуска скрипта командой или во время запуска игры скрипт будет скомпилирован, это может занимать от 5 секунд, до 3-5 минут в зависимости от размера скрипта и производительности ПК. После первого запуска скрипты упаковываются в `jar` (и хранятся в той же папке, что и исходный скрипт) и в следующие разы запускаются моментально. Но при изменении исходного скрипта компиляция будет произведена заново.